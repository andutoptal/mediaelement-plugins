/*!
 * MediaElement.js
 * http://www.mediaelementjs.com/
 *
 * Wrapper that mimics native HTML5 MediaElement (audio and video)
 * using a variety of technologies (pure JavaScript, Flash, iframe)
 *
 * Copyright 2010-2017, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
!function n(o,l,r){function u(t,e){if(!l[t]){if(!o[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(c)return c(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var s=l[t]={exports:{}};o[t][0].call(s.exports,function(e){return u(o[t][1][e]||e)},s,s.exports,n,o,l,r)}return l[t].exports}for(var c="function"==typeof require&&require,e=0;e<r.length;e++)u(r[e]);return u}({1:[function(e,t,i){"use strict";mejs.i18n.en["mejs.quality-chooser"]="Quality Chooser",Object.assign(mejs.MepDefaults,{defaultQuality:"auto",qualityText:null,autoGenerate:!1,autoDash:!1,autoHLS:!1}),Object.assign(MediaElementPlayer.prototype,{buildquality:function(i,e,t,a){for(var s=this,n=s.mediaFiles?s.mediaFiles:s.node.children,o=new Map,l=0,r=n.length;l<r;l++){var u=n[l],c=u instanceof HTMLElement?u.getAttribute("data-quality"):u["data-quality"];if("undefined"===c&&(c="Auto",s.options.autoGenerate=!0),s.mediaFiles){var d=document.createElement("source");d.src=u.src,d.type=u.type,s.addValueToKey(o,c,d)}else"SOURCE"===u.nodeName&&s.addValueToKey(o,c,u)}if(!(o.size<=1)){var f=0;a.addEventListener("error",function(e){if("No renderer found"===e.message&&o.get("").length>f+1){f+=1;var t=o.get("")[f].src;a.setSrc(t),a.load()}}),a.addEventListener("loadedmetadata",function(){if(a.hlsPlayer){var e=a.hlsPlayer.levels;s.options.autoGenerate&&1<e.length&&(e.forEach(function(e){var t=e.height,i=s.getQualityFromHeight(t);s.addValueToKey(o,i,"")}),s.options.autoHLS=!0,s.generateQualityButton(s,i,a,o,""))}else if(a.dashPlayer){var t=a.dashPlayer.getBitrateInfoListFor("video");s.options.autoGenerate&&1<t.length&&(t.forEach(function(e){var t=e.height,i=s.getQualityFromHeight(t);s.addValueToKey(o,i,"")}),s.options.autoDash=!0,s.generateQualityButton(s,i,a,o,""))}}),s.generateQualityButton(s,i,a,o,"")}},generateQualityButton:function(n,o,i,a,s){n.cleanquality(o);var e=mejs.Utils.isString(n.options.qualityText)?n.options.qualityText:mejs.i18n.t("mejs.quality-chooser"),l=function(e){var t=void 0;t="auto"===e?n.keyExist(a,e)?e:n.getMapIndex(a,0).key:e;return t}(n.options.defaultQuality);s=l,o.qualitiesButton=document.createElement("div"),o.qualitiesButton.className=n.options.classPrefix+"button "+n.options.classPrefix+"qualities-button",o.qualitiesButton.innerHTML='<button type="button" aria-controls="'+n.id+'" title="'+e+'" aria-label="'+e+'" tabindex="0">'+l+'</button><div class="'+n.options.classPrefix+"qualities-selector "+n.options.classPrefix+'offscreen"><ul class="'+n.options.classPrefix+'qualities-selector-list"></ul></div>',n.addControlElement(o.qualitiesButton,"qualities"),a.forEach(function(e,t){if("map_keys_1"!==t){var i=e[0],a=t,s=n.id+"-qualities-"+a;o.qualitiesButton.querySelector("ul").innerHTML+='<li class="'+n.options.classPrefix+'qualities-selector-list-item"><input class="'+n.options.classPrefix+'qualities-selector-input" type="radio" name="'+n.id+'_qualities"disabled="disabled" value="'+a+'" id="'+s+'"  '+(a===l?' checked="checked"':"")+'/><label for="'+s+'" class="'+n.options.classPrefix+"qualities-selector-label"+(a===l?" "+n.options.classPrefix+"qualities-selected":"")+'">'+(i.title||a)+"</label></li>"}});for(var t=["mouseenter","focusin"],r=["mouseleave","focusout"],u=o.qualitiesButton.querySelectorAll('input[type="radio"]'),c=o.qualitiesButton.querySelectorAll("."+n.options.classPrefix+"qualities-selector-label"),d=o.qualitiesButton.querySelector("."+n.options.classPrefix+"qualities-selector"),f=0,h=t.length;f<h;f++)o.qualitiesButton.addEventListener(t[f],function(){mejs.Utils.removeClass(d,n.options.classPrefix+"offscreen"),d.style.height=d.querySelector("ul").offsetHeight+"px",d.style.top=-1*parseFloat(d.offsetHeight)+"px"});for(var p=0,y=r.length;p<y;p++)o.qualitiesButton.addEventListener(r[p],function(){setTimeout(function(){mejs.Utils.addClass(d,n.options.classPrefix+"offscreen")},50)});for(var v=0,q=u.length;v<q;v++){var g=u[v];g.disabled=!1,g.addEventListener("change",function(){if(n.options.autoDash)n.updateQualityButton(this,o,s),n.switchDashQuality(o,i);else if(n.options.autoHLS)n.updateQualityButton(this,o,s),n.switchHLSQuality(o,i);else{n.updateQualityButton(this,o,s);var t=i.currentTime,e=i.paused;e||i.pause(),n.updateVideoSource(i,a,s),i.setSrc(a.get(s)[0].src),i.load(),i.dispatchEvent(mejs.Utils.createEvent("seeking",i)),e||i.play(),i.addEventListener("canplay",function e(){i.setCurrentTime(t),i.removeEventListener("canplay",e)})}})}for(var m=0,x=c.length;m<x;m++)c[m].addEventListener("click",function(){var e=mejs.Utils.siblings(this,function(e){return"INPUT"===e.tagName})[0],t=mejs.Utils.createEvent("click",e);e.dispatchEvent(t)});d.addEventListener("keydown",function(e){e.stopPropagation()})},cleanquality:function(e){e&&e.qualitiesButton&&e.qualitiesButton.remove()},addValueToKey:function(e,t,i){e.has("map_keys_1")?e.get("map_keys_1").push(t):e.set("map_keys_1",[]),e.has(t)||e.set(t,[]),e.get(t).push(i)},updateVideoSource:function(i,e,t){this.cleanMediaSource(i);for(var a=e.get(t),s=function(e){var t=i.children[e];"VIDEO"===t.tagName&&a.forEach(function(e){t.appendChild(e)})},n=0;n<i.children.length;n++)s(n)},cleanMediaSource:function(e){for(var t=0;t<e.children.length;t++){var i=e.children[t];if("VIDEO"===i.tagName)for(;i.firstChild;)i.removeChild(i.firstChild)}},getMapIndex:function(e,i){var a=-1,s={};return e.forEach(function(e,t){a===i&&(s.key=t,s.value=e),a++}),s},keyExist:function(e,t){return-1<e.get("map_keys_1").indexOf(t)},switchDashQuality:function(e,t){for(var i=e.qualitiesButton.querySelectorAll('input[type="radio"]'),a=0;a<i.length;a++)i[a].checked&&(0===a?t.dashPlayer.setAutoSwitchQuality(!0):(t.dashPlayer.setAutoSwitchQuality(!1),t.dashPlayer.setQualityFor("video",a-1)))},switchHLSQuality:function(e,t){for(var i=e.qualitiesButton.querySelectorAll('input[type="radio"]'),a=0;a<i.length;a++)i[a].checked&&(t.hlsPlayer.currentLevel=0===a?-1:a-1)},updateQualityButton:function(e,t,i){var a=this,s=e.value;for(var n=t.qualitiesButton.querySelectorAll("."+a.options.classPrefix+"qualities-selected"),o=0,l=n.length;o<l;o++)mejs.Utils.removeClass(n[o],a.options.classPrefix+"qualities-selected");e.checked=!0;for(var r=mejs.Utils.siblings(e,function(e){return mejs.Utils.hasClass(e,a.options.classPrefix+"qualities-selector-label")}),u=0,c=r.length;u<c;u++)mejs.Utils.addClass(r[u],a.options.classPrefix+"qualities-selected");t.qualitiesButton.querySelector("button").innerHTML=s},getQualityFromHeight:function(e){return 4320<=e?"8K UHD":2160<=e?"UHD":1440<=e?"QHD":1080<=e?"FHD":720<=e?"HD":"SD"}})},{}]},{},[1]);